<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Padrino::Helpers::FormatHelpers</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <table width="100%" border='0' cellpadding='0' cellspacing='0' class='banner'>
        <tr>
            <td class="file-title"><span class="file-title-prefix">Module</span><br />Padrino::Helpers::FormatHelpers</td>
            <td align="right">
                <table cellspacing="0" cellpadding="2">
                    <tr valign="top">
                        <td>In:</td>
                        <td>
                            
                            <a href="../../../files/padrino-helpers/lib/padrino-helpers/format_helpers_rb.html">padrino-helpers/lib/padrino-helpers/format_helpers.rb</a>
                            
                        </td>
                    </tr>
                    
                </table>
            </td>
        </tr>
    </table>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <ul>
        
        <li><a href="#M000341">distance_of_time_in_words</a></li>
        
        <li><a href="#M000327">escape_html</a></li>
        
        <li><a href="#M000328">h</a></li>
        
        <li><a href="#M000330">h!</a></li>
        
        <li><a href="#M000340">highlight</a></li>
        
        <li><a href="#M000344">js_escape_html</a></li>
        
        <li><a href="#M000335">pluralize</a></li>
        
        <li><a href="#M000329">sanitize_html</a></li>
        
        <li><a href="#M000332">simple_format</a></li>
        
        <li><a href="#M000331">strip_tags</a></li>
        
        <li><a href="#M000343">time_ago_in_words</a></li>
        
        <li><a href="#M000337">truncate</a></li>
        
        <li><a href="#M000339">word_wrap</a></li>
        
    </ul>
    

    

    

    

    

    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title">
                    
                    <a name="M000341"></a><b>distance_of_time_in_words</b>(from_time, to_time = 0, include_seconds = false, options = {})
                    
                </div>
                
                <div class="description">
                  
                  <p>
Reports the approximate distance in time between two Time or Date objects
or integers as seconds. Set <tt>include_seconds</tt> to true if you want
more detailed approximations when distance < 1 min, 29 secs Distances are
reported based on the following table:
</p>
<pre>
  0 &lt;-&gt; 29 secs                                                             # =&gt; less than a minute
  30 secs &lt;-&gt; 1 min, 29 secs                                                # =&gt; 1 minute
  1 min, 30 secs &lt;-&gt; 44 mins, 29 secs                                       # =&gt; [2..44] minutes
  44 mins, 30 secs &lt;-&gt; 89 mins, 29 secs                                     # =&gt; about 1 hour
  89 mins, 29 secs &lt;-&gt; 23 hrs, 59 mins, 29 secs                             # =&gt; about [2..24] hours
  23 hrs, 59 mins, 29 secs &lt;-&gt; 47 hrs, 59 mins, 29 secs                     # =&gt; 1 day
  47 hrs, 59 mins, 29 secs &lt;-&gt; 29 days, 23 hrs, 59 mins, 29 secs            # =&gt; [2..29] days
  29 days, 23 hrs, 59 mins, 30 secs &lt;-&gt; 59 days, 23 hrs, 59 mins, 29 secs   # =&gt; about 1 month
  59 days, 23 hrs, 59 mins, 30 secs &lt;-&gt; 1 yr minus 1 sec                    # =&gt; [2..12] months
  1 yr &lt;-&gt; 1 yr, 3 months                                                   # =&gt; about 1 year
  1 yr, 3 months &lt;-&gt; 1 yr, 9 months                                         # =&gt; over 1 year
  1 yr, 9 months &lt;-&gt; 2 yr minus 1 sec                                       # =&gt; almost 2 years
  2 yrs &lt;-&gt; max time or date                                                # =&gt; (same rules as 1 yr)
</pre>
<p>
With <tt>include_seconds</tt> = true and the difference < 1 minute 29
seconds:
</p>
<pre>
  0-4   secs      # =&gt; less than 5 seconds
  5-9   secs      # =&gt; less than 10 seconds
  10-19 secs      # =&gt; less than 20 seconds
  20-39 secs      # =&gt; half a minute
  40-59 secs      # =&gt; less than a minute
  60-89 secs      # =&gt; 1 minute
</pre>
<h4>Examples</h4>
<pre>
  from_time = Time.now
  distance_of_time_in_words(from_time, from_time + 50.minutes)        # =&gt; about 1 hour
  distance_of_time_in_words(from_time, 50.minutes.from_now)           # =&gt; about 1 hour
  distance_of_time_in_words(from_time, from_time + 15.seconds)        # =&gt; less than a minute
  distance_of_time_in_words(from_time, from_time + 15.seconds, true)  # =&gt; less than 20 seconds
  distance_of_time_in_words(from_time, 3.years.from_now)              # =&gt; about 3 years
  distance_of_time_in_words(from_time, from_time + 60.hours)          # =&gt; about 3 days
  distance_of_time_in_words(from_time, from_time + 45.seconds, true)  # =&gt; less than a minute
  distance_of_time_in_words(from_time, from_time - 45.seconds, true)  # =&gt; less than a minute
  distance_of_time_in_words(from_time, 76.seconds.from_now)           # =&gt; 1 minute
  distance_of_time_in_words(from_time, from_time + 1.year + 3.days)   # =&gt; about 1 year
  distance_of_time_in_words(from_time, from_time + 3.years + 6.months) # =&gt; over 3 years
  distance_of_time_in_words(from_time, from_time + 4.years + 9.days + 30.minutes + 5.seconds) # =&gt; about 4 years

  to_time = Time.now + 6.years + 19.days
  distance_of_time_in_words(from_time, to_time, true)     # =&gt; about 6 years
  distance_of_time_in_words(to_time, from_time, true)     # =&gt; about 6 years
  distance_of_time_in_words(Time.now, Time.now)           # =&gt; less than a minute
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000341_source')" id="l_M000341_source">show</a>
                        
                        | <a href="http://github.com/lenzcom/padrino-framework/blob/c0142fadeef3b2c2ccafeacdc4512c81dbd16367/padrino-helpers/lib/padrino-helpers/format_helpers.rb#L171" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000341_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File padrino-helpers/lib/padrino-helpers/format_helpers.rb, line 171</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">distance_of_time_in_words</span>(<span class="ruby-identifier">from_time</span>, <span class="ruby-identifier">to_time</span> = <span class="ruby-value">0</span>, <span class="ruby-identifier">include_seconds</span> = <span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">options</span> = {})
        <span class="ruby-identifier">from_time</span> = <span class="ruby-identifier">from_time</span>.<span class="ruby-identifier">to_time</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">from_time</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:to_time</span>)
        <span class="ruby-identifier">to_time</span> = <span class="ruby-identifier">to_time</span>.<span class="ruby-identifier">to_time</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">to_time</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:to_time</span>)
        <span class="ruby-identifier">distance_in_minutes</span> = (((<span class="ruby-identifier">to_time</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">from_time</span>.<span class="ruby-identifier">to_i</span>).<span class="ruby-identifier">abs</span>)<span class="ruby-operator">/</span><span class="ruby-value">60</span>).<span class="ruby-identifier">round</span>
        <span class="ruby-identifier">distance_in_seconds</span> = ((<span class="ruby-identifier">to_time</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">from_time</span>.<span class="ruby-identifier">to_i</span>).<span class="ruby-identifier">abs</span>).<span class="ruby-identifier">round</span>

        <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">with_options</span> <span class="ruby-identifier">:locale</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:locale</span>], <span class="ruby-identifier">:scope</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:'datetime.distance_in_words'</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">locale</span><span class="ruby-operator">|</span>
          <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">distance_in_minutes</span>
            <span class="ruby-keyword kw">when</span> <span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">1</span>
              <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">distance_in_minutes</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span>
                     <span class="ruby-identifier">locale</span>.<span class="ruby-identifier">t</span>(<span class="ruby-identifier">:less_than_x_minutes</span>, <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>) <span class="ruby-operator">:</span>
                     <span class="ruby-identifier">locale</span>.<span class="ruby-identifier">t</span>(<span class="ruby-identifier">:x_minutes</span>, <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">distance_in_minutes</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">include_seconds</span>

              <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">distance_in_seconds</span>
                <span class="ruby-keyword kw">when</span> <span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">4</span>   <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">locale</span>.<span class="ruby-identifier">t</span> <span class="ruby-identifier">:less_than_x_seconds</span>, <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>
                <span class="ruby-keyword kw">when</span> <span class="ruby-value">5</span><span class="ruby-operator">..</span><span class="ruby-value">9</span>   <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">locale</span>.<span class="ruby-identifier">t</span> <span class="ruby-identifier">:less_than_x_seconds</span>, <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>
                <span class="ruby-keyword kw">when</span> <span class="ruby-value">10</span><span class="ruby-operator">..</span><span class="ruby-value">19</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">locale</span>.<span class="ruby-identifier">t</span> <span class="ruby-identifier">:less_than_x_seconds</span>, <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">20</span>
                <span class="ruby-keyword kw">when</span> <span class="ruby-value">20</span><span class="ruby-operator">..</span><span class="ruby-value">39</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">locale</span>.<span class="ruby-identifier">t</span> <span class="ruby-identifier">:half_a_minute</span>
                <span class="ruby-keyword kw">when</span> <span class="ruby-value">40</span><span class="ruby-operator">..</span><span class="ruby-value">59</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">locale</span>.<span class="ruby-identifier">t</span> <span class="ruby-identifier">:less_than_x_minutes</span>, <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
                <span class="ruby-keyword kw">else</span>             <span class="ruby-identifier">locale</span>.<span class="ruby-identifier">t</span> <span class="ruby-identifier">:x_minutes</span>,           <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
              <span class="ruby-keyword kw">end</span>

            <span class="ruby-keyword kw">when</span> <span class="ruby-value">2</span><span class="ruby-operator">..</span><span class="ruby-value">44</span>           <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">locale</span>.<span class="ruby-identifier">t</span> <span class="ruby-identifier">:x_minutes</span>,      <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">distance_in_minutes</span>
            <span class="ruby-keyword kw">when</span> <span class="ruby-value">45</span><span class="ruby-operator">..</span><span class="ruby-value">89</span>          <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">locale</span>.<span class="ruby-identifier">t</span> <span class="ruby-identifier">:about_x_hours</span>,  <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
            <span class="ruby-keyword kw">when</span> <span class="ruby-value">90</span><span class="ruby-operator">..</span><span class="ruby-value">1439</span>        <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">locale</span>.<span class="ruby-identifier">t</span> <span class="ruby-identifier">:about_x_hours</span>,  <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> (<span class="ruby-identifier">distance_in_minutes</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">/</span> <span class="ruby-value">60.0</span>).<span class="ruby-identifier">round</span>
            <span class="ruby-keyword kw">when</span> <span class="ruby-value">1440</span><span class="ruby-operator">..</span><span class="ruby-value">2529</span>      <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">locale</span>.<span class="ruby-identifier">t</span> <span class="ruby-identifier">:x_days</span>,         <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
            <span class="ruby-keyword kw">when</span> <span class="ruby-value">2530</span><span class="ruby-operator">..</span><span class="ruby-value">43199</span>     <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">locale</span>.<span class="ruby-identifier">t</span> <span class="ruby-identifier">:x_days</span>,         <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> (<span class="ruby-identifier">distance_in_minutes</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">/</span> <span class="ruby-value">1440.0</span>).<span class="ruby-identifier">round</span>
            <span class="ruby-keyword kw">when</span> <span class="ruby-value">43200</span><span class="ruby-operator">..</span><span class="ruby-value">86399</span>    <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">locale</span>.<span class="ruby-identifier">t</span> <span class="ruby-identifier">:about_x_months</span>, <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
            <span class="ruby-keyword kw">when</span> <span class="ruby-value">86400</span><span class="ruby-operator">..</span><span class="ruby-value">525599</span>   <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">locale</span>.<span class="ruby-identifier">t</span> <span class="ruby-identifier">:x_months</span>,       <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> (<span class="ruby-identifier">distance_in_minutes</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">/</span> <span class="ruby-value">43200.0</span>).<span class="ruby-identifier">round</span>
            <span class="ruby-keyword kw">else</span>
              <span class="ruby-identifier">distance_in_years</span>           = <span class="ruby-identifier">distance_in_minutes</span> <span class="ruby-operator">/</span> <span class="ruby-value">525600</span>
              <span class="ruby-identifier">minute_offset_for_leap_year</span> = (<span class="ruby-identifier">distance_in_years</span> <span class="ruby-operator">/</span> <span class="ruby-value">4</span>) <span class="ruby-operator">*</span> <span class="ruby-value">1440</span>
              <span class="ruby-identifier">remainder</span>                   = ((<span class="ruby-identifier">distance_in_minutes</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">minute_offset_for_leap_year</span>) <span class="ruby-operator">%</span> <span class="ruby-value">525600</span>)
              <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">remainder</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">131400</span>
                <span class="ruby-identifier">locale</span>.<span class="ruby-identifier">t</span>(<span class="ruby-identifier">:about_x_years</span>,  <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">distance_in_years</span>)
              <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">remainder</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">394200</span>
                <span class="ruby-identifier">locale</span>.<span class="ruby-identifier">t</span>(<span class="ruby-identifier">:over_x_years</span>,   <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">distance_in_years</span>)
              <span class="ruby-keyword kw">else</span>
                <span class="ruby-identifier">locale</span>.<span class="ruby-identifier">t</span>(<span class="ruby-identifier">:almost_x_years</span>, <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">distance_in_years</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)
              <span class="ruby-keyword kw">end</span>
          <span class="ruby-keyword kw">end</span>
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title">
                    
                    <a name="M000327"></a><b>escape_html</b>(text)
                    
                </div>
                
                <div class="description">
                  
                  <p>
Returns escaped text to protect against malicious content
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="FormatHelpers.html#M000328">h</a>
                    
                    <a href="FormatHelpers.html#M000329">sanitize_html</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000327_source')" id="l_M000327_source">show</a>
                        
                        | <a href="http://github.com/lenzcom/padrino-framework/blob/c0142fadeef3b2c2ccafeacdc4512c81dbd16367/padrino-helpers/lib/padrino-helpers/format_helpers.rb#L7" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000327_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File padrino-helpers/lib/padrino-helpers/format_helpers.rb, line 7</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">escape_html</span>(<span class="ruby-identifier">text</span>)
        <span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Utils</span>.<span class="ruby-identifier">escape_html</span>(<span class="ruby-identifier">text</span>)
      <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title">
                    
                    <a name="M000328"></a><b>h</b>(text)
                    
                </div>
                
                <div class="description">
                  
                  <p>
Alias for <a href="FormatHelpers.html#M000327">escape_html</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title">
                    
                    <a name="M000330"></a><b>h!</b>(text, blank_text = '&amp;nbsp;')
                    
                </div>
                
                <div class="description">
                  
                  <p>
Returns escaped text to protect against malicious content Returns blank if
the text is empty
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000330_source')" id="l_M000330_source">show</a>
                        
                        | <a href="http://github.com/lenzcom/padrino-framework/blob/c0142fadeef3b2c2ccafeacdc4512c81dbd16367/padrino-helpers/lib/padrino-helpers/format_helpers.rb#L17" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000330_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File padrino-helpers/lib/padrino-helpers/format_helpers.rb, line 17</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">h!</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">blank_text</span> = <span class="ruby-value str">'&amp;nbsp;'</span>)
        <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">blank_text</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">empty?</span>
        <span class="ruby-identifier">h</span> <span class="ruby-identifier">text</span>
      <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title">
                    
                    <a name="M000340"></a><b>highlight</b>(text, words, *args)
                    
                </div>
                
                <div class="description">
                  
                  <p>
Highlights one or more words everywhere in text by inserting it into a
:highlighter string.
</p>
<p>
The highlighter can be customized by passing :<tt>highlighter</tt> as a
single-quoted string with 1 where the phrase is to be inserted (defaults to
’<strong class=&#8220;highlight&#8221;>1</strong>’)
</p>
<h4>Examples</h4>
<pre>
  # =&gt; Lorem ipsum &lt;strong class=&quot;highlight&quot;&gt;dolor&lt;/strong&gt; sit amet
  highlight('Lorem ipsum dolor sit amet', 'dolor')

  # =&gt; Lorem ipsum &lt;span class=&quot;custom&quot;&gt;dolor&lt;/span&gt; sit amet
  highlight('Lorem ipsum dolor sit amet', 'dolor', :highlighter =&gt; '&lt;span class=&quot;custom&quot;&gt;\1&lt;/span&gt;')
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000340_source')" id="l_M000340_source">show</a>
                        
                        | <a href="http://github.com/lenzcom/padrino-framework/blob/c0142fadeef3b2c2ccafeacdc4512c81dbd16367/padrino-helpers/lib/padrino-helpers/format_helpers.rb#L111" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000340_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File padrino-helpers/lib/padrino-helpers/format_helpers.rb, line 111</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">highlight</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">words</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
        <span class="ruby-identifier">options</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">extract_options!</span>
        <span class="ruby-identifier">options</span>.<span class="ruby-identifier">reverse_merge!</span>(<span class="ruby-identifier">:highlighter</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'&lt;strong class=&quot;highlight&quot;&gt;\1&lt;/strong&gt;'</span>)

        <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">blank?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">words</span>.<span class="ruby-identifier">blank?</span>
          <span class="ruby-identifier">text</span>
        <span class="ruby-keyword kw">else</span>
          <span class="ruby-identifier">match</span> = <span class="ruby-constant">Array</span>(<span class="ruby-identifier">words</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">escape</span>(<span class="ruby-identifier">p</span>) }.<span class="ruby-identifier">join</span>(<span class="ruby-value str">'|'</span>)
          <span class="ruby-identifier">text</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-node">/(#{match})(?!(?:[^&lt;]*?)(?:[&quot;'])[^&lt;&gt;]*&gt;)/i</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:highlighter</span>])
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title">
                    
                    <a name="M000344"></a><b>js_escape_html</b>(html_content)
                    
                </div>
                
                <div class="description">
                  
                  <p>
Used in xxxx.js.erb files to escape html so that it can be passed to
javascript from <a href="../../Padrino.html">Padrino</a>
</p>
<pre>
  js_escape_html(&quot;&lt;h1&gt;Hey&lt;/h1&gt;&quot;)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000344_source')" id="l_M000344_source">show</a>
                        
                        | <a href="http://github.com/lenzcom/padrino-framework/blob/c0142fadeef3b2c2ccafeacdc4512c81dbd16367/padrino-helpers/lib/padrino-helpers/format_helpers.rb#L235" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000344_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File padrino-helpers/lib/padrino-helpers/format_helpers.rb, line 235</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">js_escape_html</span>(<span class="ruby-identifier">html_content</span>)
        <span class="ruby-keyword kw">return</span> <span class="ruby-value str">''</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">html_content</span>
        <span class="ruby-identifier">javascript_mapping</span> = { <span class="ruby-value str">'\\'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'\\\\'</span>, <span class="ruby-value str">'&lt;/'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'&lt;\/'</span>, <span class="ruby-value str">&quot;\r\n&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'\n'</span>, <span class="ruby-value str">&quot;\n&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'\n'</span>, <span class="ruby-value str">&quot;\r&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'\n'</span>, <span class="ruby-value str">'&quot;'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'\\&quot;'</span>, <span class="ruby-value str">&quot;'&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;\\'&quot;</span> }
        <span class="ruby-identifier">html_content</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/(\\|&lt;\/|\r\n|[\n\r&quot;'])/</span>) { <span class="ruby-identifier">javascript_mapping</span>[<span class="ruby-identifier">$1</span>] }
      <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title">
                    
                    <a name="M000335"></a><b>pluralize</b>(count, singular, plural = nil)
                    
                </div>
                
                <div class="description">
                  
                  <p>
Attempts to pluralize the singular word unless count is 1. If plural is
supplied, it will use that when count is > 1, otherwise it will use the
Inflector to determine the plural form
</p>
<h4>Examples</h4>
<pre>
  pluralize(2, 'person') =&gt; '2 people'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000335_source')" id="l_M000335_source">show</a>
                        
                        | <a href="http://github.com/lenzcom/padrino-framework/blob/c0142fadeef3b2c2ccafeacdc4512c81dbd16367/padrino-helpers/lib/padrino-helpers/format_helpers.rb#L56" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000335_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File padrino-helpers/lib/padrino-helpers/format_helpers.rb, line 56</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">pluralize</span>(<span class="ruby-identifier">count</span>, <span class="ruby-identifier">singular</span>, <span class="ruby-identifier">plural</span> = <span class="ruby-keyword kw">nil</span>)
        <span class="ruby-node">&quot;#{count || 0} &quot;</span> <span class="ruby-operator">+</span> ((<span class="ruby-identifier">count</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">count</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'1'</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">singular</span> <span class="ruby-operator">:</span> (<span class="ruby-identifier">plural</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">singular</span>.<span class="ruby-identifier">pluralize</span>))
      <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title">
                    
                    <a name="M000329"></a><b>sanitize_html</b>(text)
                    
                </div>
                
                <div class="description">
                  
                  <p>
Alias for <a href="FormatHelpers.html#M000327">escape_html</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title">
                    
                    <a name="M000332"></a><b>simple_format</b>(text, html_options={})
                    
                </div>
                
                <div class="description">
                  
                  <p>
Returns text transformed into HTML using simple formatting rules. Two or
more consecutive newlines(n\n) are considered as a paragraph and wrapped in
<p> tags. One newline (n) is considered as a linebreak and a <br /> tag is
appended. This method does not remove the newlines from the text.
</p>
<h4>Examples</h4>
<pre>
  simple_format(&quot;hello\nworld&quot;) # =&gt; &quot;&lt;p&gt;hello&lt;br/&gt;world&lt;/p&gt;&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000332_source')" id="l_M000332_source">show</a>
                        
                        | <a href="http://github.com/lenzcom/padrino-framework/blob/c0142fadeef3b2c2ccafeacdc4512c81dbd16367/padrino-helpers/lib/padrino-helpers/format_helpers.rb#L38" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000332_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File padrino-helpers/lib/padrino-helpers/format_helpers.rb, line 38</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">simple_format</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">html_options</span>={})
        <span class="ruby-identifier">start_tag</span> = <span class="ruby-identifier">tag</span>(<span class="ruby-value str">'p'</span>, <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:open</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>))
        <span class="ruby-identifier">text</span> = <span class="ruby-identifier">text</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">dup</span>
        <span class="ruby-identifier">text</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp re">/\r\n?/</span>, <span class="ruby-value str">&quot;\n&quot;</span>)                    <span class="ruby-comment cmt"># \r\n and \r -&gt; \n</span>
        <span class="ruby-identifier">text</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp re">/\n\n+/</span>, <span class="ruby-node">&quot;&lt;/p&gt;\n\n#{start_tag}&quot;</span>)  <span class="ruby-comment cmt"># 2+ newline  -&gt; paragraph</span>
        <span class="ruby-identifier">text</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp re">/([^\n]\n)(?=[^\n])/</span>, <span class="ruby-value str">'\1&lt;br /&gt;'</span>) <span class="ruby-comment cmt"># 1 newline   -&gt; br</span>
        <span class="ruby-identifier">text</span>.<span class="ruby-identifier">insert</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">start_tag</span>
        <span class="ruby-identifier">text</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;&lt;/p&gt;&quot;</span>
      <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title">
                    
                    <a name="M000331"></a><b>strip_tags</b>(html)
                    
                </div>
                
                <div class="description">
                  
                  <p>
Strips all HTML tags from the html
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000331_source')" id="l_M000331_source">show</a>
                        
                        | <a href="http://github.com/lenzcom/padrino-framework/blob/c0142fadeef3b2c2ccafeacdc4512c81dbd16367/padrino-helpers/lib/padrino-helpers/format_helpers.rb#L25" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000331_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File padrino-helpers/lib/padrino-helpers/format_helpers.rb, line 25</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">strip_tags</span>(<span class="ruby-identifier">html</span>)
        <span class="ruby-identifier">html</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/&lt;\/?[^&gt;]*&gt;/</span>, <span class="ruby-value str">&quot;&quot;</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">html</span>
      <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title">
                    
                    <a name="M000343"></a><b>time_ago_in_words</b>(from_time, include_seconds = false)
                    
                </div>
                
                <div class="description">
                  
                  <p>
Like <a href="FormatHelpers.html#M000341">distance_of_time_in_words</a>,
but where <tt>to_time</tt> is fixed to <tt>Time.now</tt>.
</p>
<h4>Examples</h4>
<pre>
  time_ago_in_words(3.minutes.from_now)       # =&gt; 3 minutes
  time_ago_in_words(Time.now - 15.hours)      # =&gt; 15 hours
  time_ago_in_words(Time.now)                 # =&gt; less than a minute

  from_time = Time.now - 3.days - 14.minutes - 25.seconds     # =&gt; 3 days
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000343_source')" id="l_M000343_source">show</a>
                        
                        | <a href="http://github.com/lenzcom/padrino-framework/blob/c0142fadeef3b2c2ccafeacdc4512c81dbd16367/padrino-helpers/lib/padrino-helpers/format_helpers.rb#L226" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000343_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File padrino-helpers/lib/padrino-helpers/format_helpers.rb, line 226</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">time_ago_in_words</span>(<span class="ruby-identifier">from_time</span>, <span class="ruby-identifier">include_seconds</span> = <span class="ruby-keyword kw">false</span>)
        <span class="ruby-identifier">distance_of_time_in_words</span>(<span class="ruby-identifier">from_time</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>, <span class="ruby-identifier">include_seconds</span>)
      <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title">
                    
                    <a name="M000337"></a><b>truncate</b>(text, options={})
                    
                </div>
                
                <div class="description">
                  
                  <p>
Truncates a given text after a given :length if text is longer than :length
(defaults to 30). The last characters will be replaced with the :omission
(defaults to &#8220;…&#8221;) for a total length not exceeding :length.
</p>
<h4>Examples</h4>
<pre>
  truncate(&quot;Once upon a time in a world far far away&quot;, :length =&gt; 8) =&gt; &quot;Once upon...&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000337_source')" id="l_M000337_source">show</a>
                        
                        | <a href="http://github.com/lenzcom/padrino-framework/blob/c0142fadeef3b2c2ccafeacdc4512c81dbd16367/padrino-helpers/lib/padrino-helpers/format_helpers.rb#L68" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000337_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File padrino-helpers/lib/padrino-helpers/format_helpers.rb, line 68</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">truncate</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">options</span>={})
        <span class="ruby-identifier">options</span>.<span class="ruby-identifier">reverse_merge!</span>(<span class="ruby-identifier">:length</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">30</span>, <span class="ruby-identifier">:omission</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;...&quot;</span>)
        <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">text</span>
          <span class="ruby-identifier">len</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:length</span>] <span class="ruby-operator">-</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:omission</span>].<span class="ruby-identifier">length</span>
          <span class="ruby-identifier">chars</span> = <span class="ruby-identifier">text</span>
          (<span class="ruby-identifier">chars</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:length</span>] <span class="ruby-operator">?</span> <span class="ruby-identifier">chars</span>[<span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">len</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:omission</span>] <span class="ruby-operator">:</span> <span class="ruby-identifier">text</span>).<span class="ruby-identifier">to_s</span>
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title">
                    
                    <a name="M000339"></a><b>word_wrap</b>(text, *args)
                    
                </div>
                
                <div class="description">
                  
                  <p>
Wraps the text into lines no longer than line_width width. This method
breaks on the first whitespace character that does not exceed line_width
(which is 80 by default).
</p>
<h4>Examples</h4>
<pre>
  word_wrap('Once upon a time', :line_width =&gt; 8) =&gt; &quot;Once upon\na time&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000339_source')" id="l_M000339_source">show</a>
                        
                        | <a href="http://github.com/lenzcom/padrino-framework/blob/c0142fadeef3b2c2ccafeacdc4512c81dbd16367/padrino-helpers/lib/padrino-helpers/format_helpers.rb#L85" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000339_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File padrino-helpers/lib/padrino-helpers/format_helpers.rb, line 85</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">word_wrap</span>(<span class="ruby-identifier">text</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
        <span class="ruby-identifier">options</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">extract_options!</span>
        <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">blank?</span>
          <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:line_width</span>] = <span class="ruby-identifier">args</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">||</span> <span class="ruby-value">80</span>
        <span class="ruby-keyword kw">end</span>
        <span class="ruby-identifier">options</span>.<span class="ruby-identifier">reverse_merge!</span>(<span class="ruby-identifier">:line_width</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">80</span>)

        <span class="ruby-identifier">text</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;\n&quot;</span>).<span class="ruby-identifier">collect</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">line</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">line</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:line_width</span>] <span class="ruby-operator">?</span> <span class="ruby-identifier">line</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-node">/(.{1,#{options[:line_width]}})(\s+|$)/</span>, <span class="ruby-value str">&quot;\\1\n&quot;</span>).<span class="ruby-identifier">strip</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">line</span>
        <span class="ruby-keyword kw">end</span> <span class="ruby-operator">*</span> <span class="ruby-value str">&quot;\n&quot;</span>
      <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    