<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>README.rdoc</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <table border='0' cellpadding='0' cellspacing='0' width="100%" class='banner'>
      <tr><td>
        <table width="100%" border='0' cellpadding='0' cellspacing='0'><tr>
          <td class="file-title" colspan="2"><span class="file-title-prefix">File</span><br />README.rdoc</td>
          <td align="right">
            <table border='0' cellspacing="0" cellpadding="2">
              <tr>
                <td>Path:</td>
                <td>padrino-core/README.rdoc</td>
              </tr>
              <tr>
                <td>Modified:</td>
                <td>2010-11-24 12:40:54 +0100</td>
              </tr>
            </table>
          </td></tr>
        </table>
      </td></tr>
    </table><br />

    <div id="bodyContent">
        <div id="content">
    
    <div class="description"><h1><a href="../../classes/Padrino.html">Padrino</a> (padrino-core)</h1>
<p>
<a href="../../classes/Padrino.html">Padrino</a> is the godfather of
Sinatra.
</p>
<h2>Preface</h2>
<p>
<a href="../../classes/Padrino.html">Padrino</a> is a ruby framework built
upon the excellent <a href="http://www.sinatrarb.com">Sinatra
Microframework</a>. Sinatra is a DSL for creating simple web applications
in Ruby with speed and minimal effort. This framework tries hard to make it
as fun and easy as possible to code much more advanced web applications by
building upon the Sinatra philosophies and foundation.
</p>
<h2>Introduction</h2>
<p>
Many people love Sinatra&#8217;s simplicity and lightweight but often
quickly come to miss a great deal of functionality provided by other web
frameworks such as Rails when building non-trivial applications.
</p>
<p>
Our goal with this framework is to match the essence of Sinatra and at the
same time create a standard library of tools, helpers and components that
will make Sinatra suitable for more complex applications.
</p>
<p>
Here is a brief overview of functionality provided by the <a
href="../../classes/Padrino.html">Padrino</a> framework:
</p>
<table>
<tr><td valign="top">Agnostic:</td><td>Full support for many popular testing, templating, mocking, and data
storage choices.

</td></tr>
<tr><td valign="top">Generators:</td><td>Create <a href="../../classes/Padrino.html">Padrino</a> applications,
models, controllers i.e: padrino-gen project.

</td></tr>
<tr><td valign="top">Mountable:</td><td>Unlike other ruby frameworks, principally designed for mounting multiple
apps.

</td></tr>
<tr><td valign="top">Routing:</td><td>Full url named routes, named params, respond_to support, before/after
filter support.

</td></tr>
<tr><td valign="top">Tag Helpers:</td><td>View helpers such as: tag, content_tag, input_tag.

</td></tr>
<tr><td valign="top">Asset Helpers:</td><td>View helpers such as: link_to, image_tag, javascript_include_tag.

</td></tr>
<tr><td valign="top">Form Helpers:</td><td>Builder support such as: form_tag, form_for, field_set_tag, text_field.

</td></tr>
<tr><td valign="top">Text Helpers:</td><td>Useful formatting like: relative_time_ago, js_escape_html, sanitize_html.

</td></tr>
<tr><td valign="top">Mailer:</td><td>Fast and simple delivery support for sending emails (akin to ActionMailer).

</td></tr>
<tr><td valign="top">Admin:</td><td>Builtin Admin interface (like Django)

</td></tr>
<tr><td valign="top">Logging:</td><td>Provide a unified logger that can interact with your ORM or any library.

</td></tr>
<tr><td valign="top">Reloading:</td><td>Automatically reloads server code during development.

</td></tr>
<tr><td valign="top">Localization:</td><td>Full support of I18n language localization and can auto-set userâ€™s
locale.

</td></tr>
</table>
<p>
Keep in mind, the user will be able to pull in these components <a
href="http://www.padrinorb.com/guides/standalone-usage-in-sinatra">seperately
into existing Sinatra applications</a> or use them altogether for a
comprehensive upgrade to Sinatra (a full-stack <a
href="../../classes/Padrino.html">Padrino</a> application).
</p>
<h2>Installation</h2>
<p>
To install the padrino framework, simply grab the latest version from
gemcutter:
</p>
<pre>
  $ sudo gem install padrino
</pre>
<p>
This will install the necessary padrino gems to get you started. Now you
are ready to use this gem to enhance your sinatra projects or to create new
<a href="../../classes/Padrino.html">Padrino</a> applications.
</p>
<p>
For a more detailed look at <a
href="../../classes/Padrino.html">Padrino</a> installation, check out the
<a href="http://www.padrinorb.com/guides/installation">Installation
Guide</a>.
</p>
<h2>Usage</h2>
<p>
<a href="../../classes/Padrino.html">Padrino</a> is a framework which
builds on the existing functionality and Sinatra and provides a variety of
additional tools and helpers to build upon that foundation. This README and
<a href="../../classes/Padrino.html">Padrino</a> documentation in general
will focus on the enhancements to the core Sinatra functionality. To use <a
href="../../classes/Padrino.html">Padrino</a>, one should be familiar with
the basic usage of Sinatra itself.
</p>
<p>
Please check out the <a
href="http://www.padrinorb.com/guides/underlying-sinatra-overview">Understanding
Sinatra</a> guide to learn more about these fundamentals.
</p>
<p>
For information on how to use a specific gem in isolation within an
existing Sinatra project, checkout the guide for <a
href="http://www.padrinorb.com/guides/standalone-usage-in-sinatra">Using
Padrino in Sinatra</a>.
</p>
<h2>Getting Started</h2>
<p>
Once a developer understands Sinatra, <a
href="../../classes/Padrino.html">Padrino</a> is quite easy to get
comfortable with since <a href="../../classes/Padrino.html">Padrino</a> is
simply a superset of existing Sinatra Functionality! Best way to get
started with building <a href="../../classes/Padrino.html">Padrino</a>
applications is to read following resources:
</p>
<ul>
<li><a href="http://www.padrinorb.com/guides/blog-tutorial">Blog Tutorial</a> -
Step-by-step guide to building a blog application with <a
href="../../classes/Padrino.html">Padrino</a>.

</li>
<li><a href="http://www.padrinorb.com/guides/basic-projects">Quick Overview</a>
- Outlines basic generation commands.

</li>
<li><a href="http://www.padrinorb.com/guides/examples">Padrino Examples</a> -
List of known <a href="../../classes/Padrino.html">Padrino</a> applications
which can serve as examples.

</li>
</ul>
<h2>Enhanced Base Application (padrino-core)</h2>
<p>
Sinatra has support for classes which can be extended to create an
application: <tt>Sinatra::Base</tt> and <tt>Sinatra::Application</tt> These
classes can be extended in order to create a Sinatra web application. These
classes provide support for all the basic functionality afforded by
Sinatra.
</p>
<p>
<a href="../../classes/Padrino.html">Padrino</a> has support for an
enhanced base application class <tt>Padrino::Application</tt>.
<tt>Padrino::Application</tt> expands the capabilities of
Sinatra::Application and automatically provides the resulting application
access to all of the padrino framework&#8217;s functionalities.
</p>
<h3>Simple Application Definition</h3>
<p>
Let us first take a look at the simplest possible <a
href="../../classes/Padrino.html">Padrino</a> application:
</p>
<pre>
  # app.rb
  PADRINO_ROOT = File.dirname(__FILE__) unless defined? PADRINO_ROOT
  require 'padrino'
  Padrino.load!

  class SimpleApp &lt; Padrino::Application
    get '/' do
      'Hello world'
    end

    # and for read better we can divide with controllers
    controller '/admin' do
      get '/foo' do
        'Url is /admin/foo'
      end
    end
  end
</pre>
<h3>Enhanced Route Definitions and Controllers</h3>
<p>
For a complete overview of the <a
href="../../classes/Padrino.html">Padrino</a> routing and controller
system, check out the <a
href="http://www.padrinorb.com/guides/controllers">Routing and Controller
guide</a>.
</p>
<p>
Suppose we wanted to add additional routes to our <a
href="../../classes/Padrino.html">Padrino</a> application, and we want to
organize the routes within a more structured layout. Simply add a
<tt>controllers</tt> or <tt>app/controllers</tt> folder and create a file
as such:
</p>
<pre>
  # Simple Example
  SimpleApp.controllers do
    get &quot;/test&quot; do
      &quot;Text to return&quot;
    end
  end
</pre>
<p>
You can also do more complex route alias definitions:
</p>
<pre>
  # app/controllers/example.rb
  SimpleApp.controllers :posts do
    get :index do
      ...
    end

    get :show, :with =&gt; :id do
      # url generated is '/posts/show/:id'
      # access params[:id]
    end
  end
</pre>
<p>
as well as mapping the route aliases to an explicit url:
</p>
<pre>
  # app/controllers/example.rb
  SimpleApp.controllers do
    get :index, :map =&gt; '/index' do
      ...
    end

    get :account, :map =&gt; '/the/accounts/:name/and/:id' do
      # access params[:name] and params[:index]
    end
  end
</pre>
<p>
and even configure the respond_to for each route:
</p>
<pre>
  # app/controllers/example.rb
  SimpleApp.controllers :admin do
    get :show, :with =&gt; :id, :provides =&gt; :js do
      &quot;Url is /admin/show/#{params[:id]}.#{params[:format]}&quot;
    end

    get :other, with =&gt; [:id, :name], respond_to =&gt; [:html, :json] do
      case content_type
        when :js    then ... end
        when :json  then ... end
      end
    end
  end
</pre>
<p>
or auto lookup for current locale or content_type
</p>
<pre>
  # app/controllers/example.rb
  SimpleApp.controllers :admin do
    get :show, :with =&gt; :id, :provides =&gt; [html, :js] do
      render &quot;admin/show&quot;
    end
  end
</pre>
<p>
When you visit :<tt>show</tt> and your I18n.locale == :ru <a
href="../../classes/Padrino.html">Padrino</a> try to look for
&#8220;admin/show.ru.js.*&#8221; if nothing match that path they try
&#8220;admin/show.ru.*&#8221; then &#8220;admin/show.js.*&#8221; if none
match return &#8220;admin/show.erb&#8220; (or other engine i.e. haml)
</p>
<p>
For a complete overview of the routing and controller system, check out the
<a href="http://www.padrinorb.com/guides/controllers">Routing and
Controller guide</a>.
</p>
<h3>Rendering</h3>
<p>
Unlike Sinatra, <a href="../../classes/Padrino.html">Padrino</a> supports
automatic template lookups such as:
</p>
<pre>
  # searches for 'account/index.{erb,haml,...}
  render 'account/index'
</pre>
<p>
This render does not require any template engine to be specified and will
choose the first one that is discovered. The existing render function works
as well if an engine type should be specified:
</p>
<p>
# example.haml render :haml, &#8216;account/index&#8216;
</p>
<p>
For a complete overview of the <a
href="../../classes/Padrino.html">Padrino</a> rendering system, check out
the <a href="http://www.padrinorb.com/guides/controllers">Routing and
Controller guide</a>.
</p>
<h3>Layout</h3>
<p>
With <a href="../../classes/Padrino.html">Padrino</a> you can (like rails
do) use for your custom layout, disable it
</p>
<pre>
  class SimpleApp &lt; Padrino::Application

    # Disable layouts
    disable layout

    # Use the layout located in views/layouts/custom.haml
    layout :custom
</pre>
<p>
For a complete overview of the layout functionality, check out the <a
href="http://www.padrinorb.com/guides/controllers">Routing and Controller
guide</a>.
</p>
<h3>Mounting Applications</h3>
<p>
<a href="../../classes/Padrino.html">Padrino</a> applications are all
automatically mountable into other <a
href="../../classes/Padrino.html">Padrino</a> projects. This means that a
given <a href="../../classes/Padrino.html">Padrino</a> project directory
can easily mount multiple applications. This allows for better organization
of complex applications, re-usable applications that can be applied (i.e
admin, auth, blog) and even more flexibility.
</p>
<p>
You can think of mountable applications as a &#8216;full-featured&#8217;
merb slice or rails engine. Instead of a separate construct, any
application can simply be packaged and mounted into another project.
</p>
<p>
<a href="../../classes/Padrino.html">Padrino</a> stores application
mounting information by default within <tt>config/apps.rb</tt>. This file
is intended to keep all information regarding what applications are mounted
to which uri&#8217;s.
</p>
<p>
For a complete look at mounting applications within a <a
href="../../classes/Padrino.html">Padrino</a> project, check out the guide
on <a href="http://www.padrinorb.com/guides/mounting-applications">Mounting
Applications</a>.
</p>
<h3>Auto Load Paths</h3>
<p>
<a href="../../classes/Padrino.html">Padrino</a> also intelligently
supports requiring useful files within your application automatically and
provides functionality for easily splitting up your application into
separate files. <a href="../../classes/Padrino.html">Padrino</a>
automatically requires <tt>config/database.rb</tt> as a convention for
establishing database connection. Also, any files within the <tt>lib</tt>
folder will be required automatically by <a
href="../../classes/Padrino.html">Padrino</a>.
</p>
<p>
For a complete overview of auto-loaded paths within <a
href="../../classes/Padrino.html">Padrino</a>, check out the <a
href="http://www.padrinorb.com/guides/development-and-terminal-commands">Padrino
Development Guide</a>.
</p>
<h3>Application Logging</h3>
<p>
<a href="../../classes/Padrino.html">Padrino</a> also supports robust
logging capabilities. By default, logging information will go to the STDOUT
in development (for use in a console) and in an environment-specific log
file <tt>log/development.log</tt> in test and production environments.
</p>
<p>
To use the logger within a <a href="../../classes/Padrino.html">Padrino</a>
application, simply refer to the <tt>logger</tt> method accessible within
your app and any controller or views:
</p>
<pre>
  # controllers/example.rb
  SimpleApp.controllers do
    get(&quot;/test&quot;) { logger.info &quot;This is a test&quot; }
  end
</pre>
<p>
For a complete overview of <a href="../../classes/Padrino.html">Padrino</a>
logger functionality, check out the <a
href="http://www.padrinorb.com/guides/development-and-terminal-commands">Padrino
Development Guide</a>.
</p>
<h3>Development Reloader</h3>
<p>
<a href="../../classes/Padrino.html">Padrino</a> applications also have the
enabled ability to automatically reload all changing application files
without the need to restart the server. Through the use of a customized
Rack middleware, all files on the &#8216;load path&#8217; are monitored and
reloaded whenever changes are applied.
</p>
<p>
This makes rapid development much easier and provides a better alternative
to &#8216;shotgun&#8217; or &#8216;rerun&#8217; which requires the
application server to be restarted which makes requests take much longer to
complete.
</p>
<p>
For a complete overview of code reloading in development, check out the <a
href="http://www.padrinorb.com/guides/development-and-terminal-commands">Padrino
Development Guide</a>.
</p>
<h3>Terminal Commands</h3>
<p>
<a href="../../classes/Padrino.html">Padrino</a> also comes equipped with
multiple useful terminal commands which can be activated to perform common
tasks such as starting / stopping the application, executing the unit tests
or activating an irb session.
</p>
<p>
The following commands are available:
</p>
<pre>
  # starts the app server (non-daemonized)
  $ padrino start
  # starts the app server (daemonized) with given port, environment and adapter
  $ padrino start -d -p 3000 -e development -a thin

  # Stops a daemonized app server
  $ padrino stop

  # Bootup the Padrino console (irb)
  $ padrino console

  # Run/List tasks
  $ padrino rake
</pre>
<p>
You can also create custom rake tasks as well. Using these commands can
simplify common tasks making development that much smoother.
</p>
<p>
For a complete overview of <a href="../../classes/Padrino.html">Padrino</a>
terminal commands, check out the <a
href="http://www.padrinorb.com/guides/development-and-terminal-commands">Padrino
Commands Guide</a>.
</p>
<h2>Copyright</h2>
<p>
Copyright &#169; 2010 <a href="../../classes/Padrino.html">Padrino</a>. See
LICENSE for details.
</p>
</div>
    

    

    
    

    
    

    

    

    

    

    

    
</div>
    </div>
  </body>
</html>