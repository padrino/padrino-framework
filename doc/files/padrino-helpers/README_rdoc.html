<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>README.rdoc</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <table border='0' cellpadding='0' cellspacing='0' width="100%" class='banner'>
      <tr><td>
        <table width="100%" border='0' cellpadding='0' cellspacing='0'><tr>
          <td class="file-title" colspan="2"><span class="file-title-prefix">File</span><br />README.rdoc</td>
          <td align="right">
            <table border='0' cellspacing="0" cellpadding="2">
              <tr>
                <td>Path:</td>
                <td>padrino-helpers/README.rdoc</td>
              </tr>
              <tr>
                <td>Modified:</td>
                <td>Mon Dec 13 04:58:43 +0100 2010</td>
              </tr>
            </table>
          </td></tr>
        </table>
      </td></tr>
    </table><br />

    <div id="bodyContent">
        <div id="content">
    
    <div class="description"><h1>Application Extensions and Helpers (padrino-helpers)</h1>
<h3>Overview</h3>
<p>
This component provides a great deal of view helpers related to html markup
generation. There are helpers for generating tags, forms, links, images,
and more. Most of the basic methods should be very familiar to anyone who
has used rails view helpers.
</p>
<h3>Output Helpers</h3>
<p>
Output helpers are a collection of important methods for managing,
capturing and displaying output in various ways and is used frequently to
support higher-level helper functions. There are three output helpers worth
mentioning: <tt>content_for</tt>, <tt>capture_html</tt>, and
<tt>concat_content</tt>
</p>
<p>
The content_for functionality supports capturing content and then rendering
this into a different place such as within a layout. One such popular
example is including assets onto the layout from a template:
</p>
<pre>
  # app/views/site/index.erb
  ...
  &lt;% content_for :assets do %&gt;
    &lt;%= stylesheet_link_tag 'index', 'custom' %&gt;
  &lt;% end %&gt;
  ...
</pre>
<p>
Added to a template, this will capture the includes from the block and
allow them to be yielded into the layout:
</p>
<pre>
  # app/views/layout.erb
  ...
  &lt;head&gt;
    &lt;title&gt;Example&lt;/title&gt;
    &lt;%= stylesheet_link_tag 'style' %&gt;
    &lt;%= yield_content :assets %&gt;
  &lt;/head&gt;
  ...
</pre>
<p>
This will automatically insert the contents of the block (in this case a
stylesheet include) into the location the content is yielded within the
layout.
</p>
<p>
The capture_html and the concat_content methods allow content to be
manipulated and stored for use in building additional helpers accepting
blocks or displaying information in a template. One example is the use of
these in constructing a simplified &#8216;form_tag&#8217; helper which
accepts a block.
</p>
<pre>
  # form_tag '/register' do ... end
  def form_tag(url, options={}, &amp;block)
    # ... truncated ...
    inner_form_html = capture_html(&amp;block)
    concat_content '&lt;form&gt;' + inner_form_html + '&lt;/form&gt;'
  end
</pre>
<p>
This will capture the template body passed into the form_tag block and then
append the content to the template through the use of
<tt>concat_content</tt>. Note have been built to work for both haml and erb
templates using the same syntax.
</p>
<p>
For more information on using output helpers, check out the guide for <a
href="http://www.padrinorb.com/guides/application-helpers">Padrino
Helpers</a>.
</p>
<h3>Tag Helpers</h3>
<p>
Tag helpers are the basic building blocks used to construct html
&#8216;tags&#8217; within a view template. There are three major functions
for this category: <tt>tag</tt>, <tt>content_tag</tt> and
<tt>input_tag</tt>.
</p>
<p>
The tag and content_tag are for building arbitrary html tags with a name
and specified options. If the tag contains &#8216;content&#8217; within
then <tt>content_tag</tt> is used. For example:
</p>
<pre>
  tag(:br, :style =&gt; ‘clear:both’) =&gt; &lt;br style=&quot;clear:both&quot; /&gt;
  content_tag(:p, &quot;demo&quot;, :class =&gt; ‘light’) =&gt; &lt;p class=&quot;light&quot;&gt;demo&lt;/p&gt;
</pre>
<p>
The input_tag is used to build tags that are related to accepting input
from the user:
</p>
<pre>
  input_tag :text, :class =&gt; &quot;demo&quot; =&gt; &lt;input type='text' class='demo' /&gt;
  input_tag :password, :value =&gt; &quot;secret&quot;, :class =&gt; &quot;demo&quot;
</pre>
<p>
Note that all of these accept html options and result in returning a string
containing html tags.
</p>
<p>
For more information on using tag helpers, check out the guide for <a
href="http://www.padrinorb.com/guides/application-helpers">Padrino
Helpers</a>.
</p>
<h3>Asset Helpers</h3>
<p>
Asset helpers are intended to help insert useful html onto a view template
such as &#8216;flash&#8217; notices, hyperlinks, mail_to links, images,
stylesheets and javascript. An example of their uses would be on a simple
view template:
</p>
<pre>
  # app/views/example.haml
  ...
  %head
    = stylesheet_link_tag 'layout'
    = javascript_include_tag 'application'
  %body
    ...
    = flash_tag :notice
    %p= link_to 'Blog', '/blog', :class =&gt; 'example'
    %p Mail me at #{mail_to 'fake@faker.com', &quot;Fake Email Link&quot;, :cc =&gt; &quot;test@demo.com&quot;}
    %p= image_tag 'padrino.png', :width =&gt; '35', :class =&gt; 'logo'
</pre>
<p>
For more information on using asset helpers, check out the guide for <a
href="http://www.padrinorb.com/guides/application-helpers">Padrino
Helpers</a>.
</p>
<h3>Form Helpers</h3>
<p>
Form helpers are the &#8216;standard&#8217; form tag helpers you would come
to expect when building forms. A simple example of constructing a
non-object form would be:
</p>
<pre>
  - form_tag '/destroy', :class =&gt; 'destroy-form', :method =&gt; 'delete' do
    = flash_tag(:notice)
    - field_set_tag do
      %p
        = label_tag :username, :class =&gt; 'first'
        = text_field_tag :username, :value =&gt; params[:username]
      %p
        = label_tag :password, :class =&gt; 'first'
        = password_field_tag :password, :value =&gt; params[:password]
      %p
        = label_tag :strategy
        = select_tag :strategy, :options =&gt; ['delete', 'destroy'], :selected =&gt; 'delete'
      %p
        = check_box_tag :confirm_delete
    - field_set_tag(:class =&gt; 'buttons') do
      = submit_tag &quot;Remove&quot;
</pre>
<p>
For more information on using form helpers, check out the guide for <a
href="http://www.padrinorb.com/guides/application-helpers">Padrino
Helpers</a>.
</p>
<h3>FormBuilders</h3>
<p>
Form builders are full-featured objects allowing the construction of
complex object-based forms using a simple, intuitive syntax.
</p>
<p>
A form_for using these basic fields might look like:
</p>
<pre>
  - form_for @user, '/register', :id =&gt; 'register' do |f|
    = f.error_messages
    %p
      = f.label :username, :caption =&gt; &quot;Nickname&quot;
      = f.text_field :username
    %p
      = f.label :email
      = f.text_field :email
    %p
      = f.label :password
      = f.password_field :password
    %p
      = f.label :is_admin, :caption =&gt; &quot;Admin User?&quot;
      = f.check_box :is_admin
    %p
      = f.label :color, :caption =&gt; &quot;Favorite Color?&quot;
      = f.select :color, :options =&gt; ['red', 'black']
    %p
      - fields_for @user.location do |location|
        = location.text_field :street
        = location.text_field :city
    %p
      = f.submit &quot;Create&quot;, :class =&gt; 'button'
</pre>
<p>
There is also an additional StandardFormBuilder which builds on the
abstract fields that can be used within a form_for.
</p>
<p>
A form_for using these standard fields might be:
</p>
<pre>
  - form_for @user, '/register', :id =&gt; 'register' do |f|
    = f.error_messages
    = f.text_field_block :name, :caption =&gt; &quot;Full name&quot;
    = f.text_field_block :email
    = f.check_box_block  :remember_me
    = f.select_block     :fav_color, :options =&gt; ['red', 'blue']
    = f.password_field_block :password
    = f.submit_block &quot;Create&quot;, :class =&gt; 'button'
</pre>
<p>
and would generate this html (with each input contained in a paragraph and
containing a label):
</p>
<pre>
  &lt;form id=&quot;register&quot; action=&quot;/register&quot; method=&quot;post&quot;&gt;
    &lt;p&gt;&lt;label for=&quot;user_name&quot;&gt;Full name: &lt;/label&gt;&lt;input type=&quot;text&quot; id=&quot;user_name&quot; name=&quot;user[name]&quot;&gt;&lt;/p&gt;
    ...omitted...
    &lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;Create&quot; class=&quot;button&quot;&gt;&lt;/p&gt;
  &lt;/form&gt;
</pre>
<p>
You can also easily build your own FormBuilder which allows for customized
fields and behavior.
</p>
<p>
For more information on using the <a
href="../../classes/Padrino.html">Padrino</a> form builders, check out the
guide for <a
href="http://www.padrinorb.com/guides/application-helpers">Padrino
Helpers</a>.
</p>
<h3>Format Helpers</h3>
<p>
Format helpers are several useful utilities for manipulating the format of
text to achieve a goal. The four format helpers are <tt>escape_html</tt>,
<tt>relative_time_ago</tt>, <tt>time_in_words</tt>, and
<tt>js_escape_html</tt>.
</p>
<p>
The escape_html and js_escape_html function are for taking an html string
and escaping certain characters. <tt>escape_html</tt> will escape
ampersands, brackets and quotes to their HTML/XML entities. This is useful
to sanitize user content before displaying this on a template.
<tt>js_escape_html</tt> is used for passing javascript information from a
js template to a javascript function.
</p>
<pre>
  escape_html('&lt;hello&gt;&amp;&lt;goodbye&gt;') # =&gt; &amp;lt;hello&amp;gt;&amp;amp;&amp;lt;goodbye&amp;gt;
</pre>
<p>
There is also an alias for escape_html called <tt>h</tt> for even easier
usage within templates.
</p>
<p>
Format helpers also includes a number of useful text manipulation functions
such as <tt>simple_format</tt>, <tt>pluralize</tt>, <tt>word_wrap</tt>, and
<tt>truncate</tt>.
</p>
<pre>
  simple_format(&quot;hello\nworld&quot;) # =&gt; &quot;&lt;p&gt;hello&lt;br/&gt;world&lt;/p&gt;&quot;
  pluralize(2, 'person') =&gt; '2 people'
  word_wrap('Once upon a time', :line_width =&gt; 8) =&gt; &quot;Once upon\na time&quot;
  truncate(&quot;Once upon a time in a world far far away&quot;, :length =&gt; 8) =&gt; &quot;Once upon...&quot;
</pre>
<p>
These helpers can be invoked from any route or view within your
application.
</p>
<p>
For more information on using the format helpers, check out the guide for
<a href="http://www.padrinorb.com/guides/application-helpers">Padrino
Helpers</a>.
</p>
<h3>Render Helpers</h3>
<p>
This component provides a number of rendering helpers making the process of
displaying templates a bit easier. This plugin also has support for useful
additions such as partials (with support for :collection) for the
templating system.
</p>
<p>
Using render plugin helpers is extremely simple. If you want to render an
erb template in your view path:
</p>
<pre>
  render :erb, 'path/to/erb/template'
</pre>
<p>
or using haml templates works just as well:
</p>
<pre>
  render :haml, 'path/to/haml/template'
</pre>
<p>
There is also a method which renders the first view matching the path and
removes the need to define an engine:
</p>
<pre>
  render 'path/to/any/template'
</pre>
<p>
Finally, we have the all-important partials support for rendering
mini-templates onto a page:
</p>
<pre>
  partial 'photo/_item', :object =&gt; @photo, :locals =&gt; { :foo =&gt; 'bar' }
  partial 'photo/_item', :collection =&gt; @photos
</pre>
<p>
For more information on using the render and partial helpers, check out the
guide for <a
href="http://www.padrinorb.com/guides/application-helpers">Padrino
Helpers</a>.
</p>
<h2>Copyright</h2>
<p>
Copyright &#169; 2010 <a href="../../classes/Padrino.html">Padrino</a>. See
LICENSE for details.
</p>
</div>
    

    

    
    

    
    

    

    

    

    

    

    
</div>
    </div>
  </body>
</html>